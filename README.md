# 3단계 - 로또(자동)

## 3단계 실습 시작

### 기능 요구사항

- 로또 구입 금액을 입력하면 구입 금액에 해당하는 로또를 발급해야 한다.
- 로또 1장의 가격은 1000원이다.

### 힌트

- 로또 자동 생성은 Collections.shuffle() 메소드 활용한다.
- Collections.sort() 메소드를 활용해 정렬 가능하다.
- ArrayList의 contains() 메소드를 활용하면 어떤 값이 존재하는지 유무를 판단할 수 있다.

### 기능 목록

> 로직  
> 1.구입 금액을 입력 받는다   
> 2.로또는 개당 1000원이므로 구입 할 수 있는 만큼 로또 번호를 자동생성한다.  
> 3.지난 주 당첨 번호를 입력 받는다   
> 4.자동생성 로또번호와 비교하여 당첨을 계산한다  
> 5.당첨 통계를 출력한다.

- InputView
    - [X] 사용자에게 로또 구매 금액 입력받기
    - [X] 지난 주 당첨 번호 입력 받기
- ResultView
    - [X] 로또 번호 목록 출력
    - [X] 당첨 통계 출력
- 로또번호 생성
    - [X] 1-45의 숫자를 가지는 로또번호 객체생성
    - [X] 로또번호를 가지는 로또티켓 객체생성(6개의 로또번호를 가짐, 중복X)
    - [X] 구입금액에 가능한 로또 최대 구매수 구하기
    - [X] 최대 구매수 만큼 로또 목록 생성하기
    - [X] 랜덤 로또 숫자 생성
    - [X] 구매후 불변객체로 수정불가 리턴하기
- 서비스
    - [X] 컨트롤러 - 도메인 연결 서비스 만들기
    - [X] 컨트롤러에서 사용할 Dto 만들기
- 결과
    - [X] 지난 주 로또 번호와 비교하여 일치 카운팅하기
    - [X] 당첨결과 당첨금액구하기
    - [X] 총 당첨금액과 구입금액에 대한 총 수익률 구하기
- 리팩토링
    - [X] 도메인 한방향으로 흐를수 있도록 개선
    - [X] 로또랭킹 관리 ENUM 화
        - LottoRank 를 ENUM 화 함으로써 확장성 과 데이터와 로직이 한곳에 일치하도록 개선
    - [X] LottoRanks 일급컬렉션 적용

---
---

### 지켜야 할 컨벤션

> 커밋전 항상 아래 내용을 상기 시키며 커밋하도록 노력!

#### 코드 컨벤션

> 1. 프로그램 요구사항 미반영 검토하기 -> 모든 사항을 지킬 수 있도록 꼼꼼하게 프로그래밍하자!
> 2. RuntimeException 보다는 Exception 을 구체화 시켜 예외상황을 명확하게 정의하자.
> 3. 이름을 통해 의도를 드러내라. (불용어(Info, Data, a, an, the)를 추가하는 방식은 적절하지 못하다.)
> 4. 축약하지 마라. (의미를 들어낼 수 있다면 이름은 길어져도 괜찮다)
> 5. 개발 도구의 code format 기능을 활용
> 6. space(공백)도 convention 이다.
> 7. 불필요하게 공백 라인을 만들지 않는다.
> 8. 구현 순서도 convention 이다.
> 9. 반복하지 마라.
> 10. 들여쓰기에 space 와 tab 을 혼용하지 않는다.
> 11. 의미없는 주석을 달지 않는다. (주석보다는 의미있는 이름을 작성하도록 노력하자!)
> 12. 값을 하드코딩 하지 마라.(java 상수 개념)
      > -> 상수이름은 대문자로 정의한다.
> 13. git commit 메시지를 의미있게 작성
> 14. 기능 목록 업데이트 (한번에 완벽하게 작성 보다는, 계속 된 업데이트를 통해 살아있는 문서를 만들도록 노력한다.)
> 15. 기능 목록 구현을 재검토한다. (너무 상새하게 작성하지 않는다. 기능 정리 정도까지. 예외상황도 기능목록에 정리한다.)
> 16. README.md를 상세히 작성. (README 를 통해 어떤 프로젝트이며, 어떤 기능을 담고 있는지 기술한다.)

#### 테스트 코드

> 1. 가독성을 높이자
> 2. 테스트 당 assert 하나
> 3. 테스트 당 개념 하나
> 4. 빠르게 / 독립적으로 / 반복가능하게 / 자가검증하는 / 적시에
> 5. 테스트 비교 값은 Boolean 또는 명확성을 뛸수 있도록 노력하기
> 6. given-when-then